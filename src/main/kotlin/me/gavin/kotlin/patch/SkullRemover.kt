package me.gavin.kotlin.patch

import me.gavin.exploits.Main
import me.gavin.kotlin.util.Patch
import me.gavin.kotlin.util.Utils
import org.bukkit.entity.EntityType
import org.bukkit.event.EventHandler
import org.bukkit.event.Listener
import org.bukkit.event.world.ChunkLoadEvent
import org.bukkit.event.world.ChunkUnloadEvent

class SkullRemover : Patch() {

    @EventHandler
    fun onLoad(event: ChunkLoadEvent) {
        if (Main.get().config.getBoolean("SkullRemover")) {
            for (entity in event.chunk.entities) {
                if (entity.type == EntityType.WITHER_SKULL)
                    entity.remove()
            }
        }
    }

    @EventHandler
    fun unUnload(event: ChunkUnloadEvent) {
        if (Main.get().config.getBoolean("SkullRemover")) {
            for (entity in event.chunk.entities) {
                if (entity.type == EntityType.WITHER_SKULL)
                    entity.remove()
            }
        }
    }
}