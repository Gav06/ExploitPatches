package me.gavin.exploits;

import me.gavin.exploits.event.listeners.TimerUpdateEvent;

import java.util.Timer;
import java.util.TimerTask;

public class EventProcessor {

    public Timer timer;

    public EventProcessor() {
        doTimer();
    }

    // timer event for things like sand removal
    private void doTimer() {
        timer = new Timer();
        timer.scheduleAtFixedRate(new TimerTask() {
                                      @Override
                                      public void run() {
                                          Main.EVENT_BUS.post(new TimerUpdateEvent());
                                      }
                                  },
                (long) Main.get().config.getDouble("AntiFallingSand.Clear-Delay") * 1000,
                (long) Main.get().config.getDouble("AntiFallingSand.Clear-Delay") * 1000);
    }
}
